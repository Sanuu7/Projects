<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Music Player</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #1E1E1E;
            color: #FFFFFF;
            margin: 0;
            padding: 0;
            transition: background-color 0.3s, color 0.3s;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            padding: 20px;
            justify-content: center;
        }

        .card {
            width: 300px;
            padding: 20px;
            background-color: #2B2B2B;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            color: #FFFFFF;
        }

        .card h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: #B366FF;
        }

        .card h3 {
            font-size: 1rem;
            margin-bottom: 10px;
            color: #9E9E9E;
        }

        .audio-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 10px;
        }

        .duration {
            display: none;
            color: #9E9E9E;
        }

        .footer {
            text-align: center;
            margin-top: 20px;
            color: #9E9E9E;
        }

        .floating-play-button,
        .fab-menu-button {
            position: fixed;
            width: 60px;
            height: 60px;
            background-color: #B366FF;
            color: white;
            border: none;
            border-radius: 50%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            cursor: pointer;
        }

        .floating-play-button {
            bottom: 20px;
            right: 20px;
        }

        .fab-menu-button {
            bottom: 20px;
            left: 20px;
        }

        .floating-play-button svg,
        .fab-menu-button svg {
            width: 40%;
            height: auto;
        }

        .fab-menu {
            position: fixed;
            bottom: 100px;
            left: 20px;
            z-index: 1000;
            display: none;
        }

        .fab-menu.show {
            display: block;
        }

        .fab-menu button {
            width: 40px;
            height: 40px;
            background-color: #B366FF;
            color: white;
            border: none;
            border-radius: 50%;
            margin-bottom: 10px;
            cursor: pointer;
        }

        .fab-menu button svg {
            width: 60%;
            height: auto;
        }

        .light-mode .card {
            background-color: #F3E5F5;
            color: #000000;
        }

        .light-mode .card h2 {
            color: #6200EA;
        }

        .light-mode .card h3 {
            color: #424242;
        }

        .light-mode {
            background-color: #FFFFFF;
            color: #000000;
        }

        .light-mode .footer {
            color: #424242;
        }
    </style>
</head>

<body class="dark-mode">

    <div class="container" id="card-container">
        <!-- Cards will be dynamically added here -->
    </div>

    <div class="footer">Â© 2024 Ramona And Sanuu</div>

    <!-- Floating play button -->
    <button class="floating-play-button" id="play-all-button" onclick="togglePlayAll()">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path id="play-icon" d="M8 5v14l11-7L8 5z" fill="currentColor"></path>
            <path id="pause-icon" d="M6 19h4V5H6v14zm8-14v14h4V5h-4z" fill="currentColor" style="display:none;"></path>
        </svg>
    </button>

    <!-- Fab menu button -->
    <button class="fab-menu-button" id="fab-menu-button" onclick="toggleFabMenu()">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 2a1 1 0 011 1v8h8a1 1 0 110 2h-8v8a1 1 0 11-2 0v-8H3a1 1 0 110-2h8V3a1 1 0 011-1z" fill="currentColor"></path>
        </svg>
    </button>

    <!-- Fab menu -->
    <div class="fab-menu" id="fab-menu">
        <button id="dark-mode-toggle" onclick="toggleDarkMode()">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9-4.03-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7v14z" fill="currentColor"></path>
            </svg>
        </button>
    </div>

    <!-- JavaScript -->
    <script>
        let currentAudio = null;
        let playAllInterval = null;

        function togglePlayPause(audioId, buttonId) {
            const audio = document.getElementById(audioId);
            const button = document.getElementById(buttonId);

            if (audio.paused) {
                playAudio(audioId, buttonId);
            } else {
                pauseAudio(audioId, buttonId);
            }
        }

        function playAudio(audioId, buttonId) {
            const audio = document.getElementById(audioId);
            const button = document.getElementById(buttonId);

            if (currentAudio && currentAudio !== audio) {
                pauseAudio(currentAudio.id, currentAudio.buttonId);
            }

            audio.play();
            button.textContent = 'Pause';
            button.setAttribute('onclick', `pauseAudio('${audioId}', '${buttonId}')`);
            document.getElementById(`stop-button-${audioId.slice(-1)}`).style.display = 'inline-block'; // Show stop button
            currentAudio = audio;
            updateDuration(audioId);
        }

        function pauseAudio(audioId, buttonId) {
            const audio = document.getElementById(audioId);
            const button = document.getElementById(buttonId);

            audio.pause();
            button.textContent = 'Play';
            button.setAttribute('onclick', `playAudio('${audioId}', '${buttonId}')`);
        }

        function stopAudio(audioId, buttonId) {
            const audio = document.getElementById(audioId);
            const button = document.getElementById(buttonId);

            audio.pause();
            audio.currentTime = 0;
            button.textContent = 'Play';
            button.setAttribute('onclick', `playAudio('${audioId}', '${buttonId}')`);
            document.getElementById(`stop-button-${audioId.slice(-1)}`).style.display = 'none'; // Hide stop button
        }

        function updateDuration(audioId) {
            const audio = document.getElementById(audioId);
            const durationElement = document.getElementById(`duration-${audioId.slice(-1)}`);

            audio.addEventListener('timeupdate', () => {
                const minutes = Math.floor(audio.currentTime / 60);
                const seconds = Math.floor(audio.currentTime % 60);
                durationElement.textContent = `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
                durationElement.style.display = 'inline-block';
            });
        }

        function togglePlayAll() {
            const playIcon = document.getElementById('play-icon');
            const pauseIcon = document.getElementById('pause-icon');

            if (playAllInterval) {
                clearInterval(playAllInterval);
                playAllInterval = null;
                pauseAll();
                playIcon.style.display = 'block';
                pauseIcon.style.display = 'none';
            } else {
                playNext();
                playAllInterval = setInterval(playNext, 1000); // Adjust interval as needed
                playIcon.style.display = 'none';
                pauseIcon.style.display = 'block';
            }
        }

                function playNext() {
            const audios = document.querySelectorAll('audio');
            let foundCurrent = false;

            for (let i = 0; i < audios.length; i++) {
                if (foundCurrent && !audios[i].ended) {
                    playAudio(audios[i].id, `play-button-${i}`);
                    return;
                }

                if (audios[i] === currentAudio) {
                    foundCurrent = true;
                }
            }

            if (!foundCurrent) {
                playAudio(audios[0].id, 'play-button-0');
            }
        }

        function pauseAll() {
            const audios = document.querySelectorAll('audio');
            audios.forEach(audio => {
                audio.pause();
                audio.currentTime = 0;
            });
        }

        function toggleFabMenu() {
            const fabMenu = document.getElementById('fab-menu');
            fabMenu.classList.toggle('show');
        }

        function toggleDarkMode() {
            const body = document.body;
            body.classList.toggle('light-mode');

            const isLightMode = body.classList.contains('light-mode');
            localStorage.setItem('theme', isLightMode ? 'light' : 'dark');
        }

        function loadThemePreference() {
            const theme = localStorage.getItem('theme');
            if (theme === 'light') {
                document.body.classList.add('light-mode');
            } else {
                document.body.classList.remove('light-mode');
            }
        }

        function createCard(title, subtitle, audioUrl, index) {
            const container = document.getElementById('card-container');

            const card = document.createElement('div');
            card.className = 'card';

            const audio = document.createElement('audio');
            audio.id = `audio-${index}`;
            audio.src = audioUrl;
            audio.addEventListener('ended', () => {
                stopAudio(audio.id, `play-button-${index}`);
                if (!playAllInterval) {
                    const nextIndex = (index + 1) % document.querySelectorAll('audio').length;
                    playAudio(`audio-${nextIndex}`, `play-button-${nextIndex}`);
                }
            });

            const titleElement = document.createElement('h2');
            titleElement.textContent = title;

            const subtitleElement = document.createElement('h3');
            subtitleElement.textContent = subtitle;

            const controls = document.createElement('div');
            controls.className = 'audio-controls';

            const playButton = document.createElement('button');
            playButton.id = `play-button-${index}`;
            playButton.textContent = 'Play';
            playButton.setAttribute('onclick', `togglePlayPause('audio-${index}', 'play-button-${index}')`);

            const stopButton = document.createElement('button');
            stopButton.id = `stop-button-${index}`;
            stopButton.textContent = 'Stop';
            stopButton.setAttribute('onclick', `stopAudio('audio-${index}', 'play-button-${index}')`);
            stopButton.style.display = 'none';

            const durationElement = document.createElement('span');
            durationElement.id = `duration-${index}`;
            durationElement.className = 'duration';

            controls.appendChild(playButton);
            controls.appendChild(stopButton);
            controls.appendChild(durationElement);

            card.appendChild(audio);
            card.appendChild(titleElement);
            card.appendChild(subtitleElement);
            card.appendChild(controls);

            container.appendChild(card);
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadThemePreference();

            const songs = [
                { title: 'Missing you tonight', subtitle: 'Our Bond', url: 'https://files.catbox.moe/pfyz4c.mp3' },
                { title: 'I dont wanna lose you', subtitle: 'Our Bond', url: 'https://files.catbox.moe/b9qeze.mp3' },
                { title: 'Soulmate', subtitle: 'Our Bond', url: 'https://files.catbox.moe/fi5uo9.mp3' },
                { title: 'Timeless connection', subtitle: 'Our Bond', url: 'https://files.catbox.moe/rhqx45.mp3' },
                { title: 'Every Morning Youre my First thought', subtitle: 'Our Bond', url: 'https://files.catbox.moe/85nbi1.mp3' },
                { title: 'I can hear you sigh', subtitle: 'Our Bond', url: 'https://files.catbox.moe/zk5g5m.mp3' },
                { title: 'In the quiet of the night', subtitle: 'Our Bond', url: 'https://files.catbox.moe/egu6lg.mp3' },
                { title: 'Overthinking', subtitle: 'Our Bond', url: 'https://files.catbox.moe/xcoogq.mp3' },
                { title: 'Lost in thought', subtitle: 'Our Bond', url: 'https://files.catbox.moe/59ymud.mp3' }
            ];

            songs.forEach((song, index) => {
                createCard(song.title, song.subtitle, song.url, index);
            });

            window.addEventListener('beforeunload', () => {
                if (currentAudio) {
                    currentAudio.pause();
                    currentAudio.currentTime = 0;
                }
            });
        });
    </script>
</body>
</html>
